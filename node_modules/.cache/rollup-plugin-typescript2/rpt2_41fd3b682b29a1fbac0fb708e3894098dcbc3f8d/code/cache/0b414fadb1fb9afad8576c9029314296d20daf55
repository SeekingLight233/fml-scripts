{"code":"export function findAllDeepestElementsWithText(text) {\r\n    var allElements = document.querySelectorAll('body *');\r\n    var deepestElements = [];\r\n    // 递归函数，用于找到所有最深元素\r\n    function findDeepest(element) {\r\n        // 假设当前元素是最深的\r\n        var isDeepest = true;\r\n        // 遍历子元素查看是否有也包含该文本的子元素\r\n        element.childNodes.forEach(function (child) {\r\n            if (child.nodeType === Node.ELEMENT_NODE) {\r\n                // 如果子元素也包含该文本，那当前元素就不是最深的\r\n                if (findDeepest(child)) {\r\n                    isDeepest = false;\r\n                }\r\n            }\r\n        });\r\n        // 如果当前元素包含文本，且没有更深层的子元素包含文本，记录当前元素\r\n        if (element.textContent && element.textContent.includes(text) && isDeepest) {\r\n            deepestElements.push(element);\r\n        }\r\n        // 返回当前元素是否包含文本，供父级判断使用\r\n        return element.textContent && element.textContent.includes(text);\r\n    }\r\n    // 对所有元素执行深度优先搜索\r\n    allElements.forEach(function (element) { return findDeepest(element); });\r\n    return deepestElements;\r\n}\r\n//# sourceMappingURL=tools.js.map","references":[],"map":"{\"version\":3,\"file\":\"tools.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/tools.ts\"],\"names\":[],\"mappings\":\"AAAA,MAAM,UAAU,8BAA8B,CAAC,IAAY;IACzD,IAAM,WAAW,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACxD,IAAI,eAAe,GAAc,EAAE,CAAC;IAEpC,kBAAkB;IAClB,SAAS,WAAW,CAAC,OAAgB;QACjC,aAAa;QACb,IAAI,SAAS,GAAG,IAAI,CAAC;QAErB,uBAAuB;QACvB,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,UAAA,KAAK;YAC5B,IAAI,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,EAAE;gBACtC,0BAA0B;gBAC1B,IAAI,WAAW,CAAC,KAAgB,CAAC,EAAE;oBAC/B,SAAS,GAAG,KAAK,CAAC;iBACrB;aACJ;QACL,CAAC,CAAC,CAAC;QAEH,mCAAmC;QACnC,IAAI,OAAO,CAAC,WAAW,IAAI,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,SAAS,EAAE;YACxE,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACjC;QAED,uBAAuB;QACvB,OAAO,OAAO,CAAC,WAAW,IAAI,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACrE,CAAC;IAED,gBAAgB;IAChB,WAAW,CAAC,OAAO,CAAC,UAAA,OAAO,IAAI,OAAA,WAAW,CAAC,OAAO,CAAC,EAApB,CAAoB,CAAC,CAAC;IAErD,OAAO,eAAe,CAAC;AACzB,CAAC\"}"}
